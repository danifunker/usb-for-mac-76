#include ":OHCI:ISR.h"// Storage for the old ISR.void *				defaultRefCon;InterruptHandler 	defaultHandlerFunction;InterruptEnabler 	defaultEnablerFunction;InterruptDisabler 	defaultDisablerFunction;void *				defaultParentRefCon;InterruptHandler 	defaultParentHandlerFunction;InterruptEnabler 	defaultParentEnablerFunction;InterruptDisabler 	defaultParentDisablerFunction;InterruptMemberNumber OHCI_ISR_Handler(InterruptSetMember member, void *refCon, UInt32 intCount){	DebugStr("\pOHCI interrupt");		assert(0);		// Did this interrupt come from the OHCI controller?		// If so, service it and return kIsrIsComplete.		// If not, return kIsrIsNotComplete.	return kIsrIsComplete;}// TODO: Move to PCIDeviceOSErr OHCI_InstallISR(OHCI_Device *ohci, RegEntryID regEntry, ISTProperty istMembers){	OSErr status;		// Get our set ID and member number.	ohci->istMember.setID = istMembers[kISTChipInterruptSource].setID;	ohci->istMember.member = istMembers[kISTChipInterruptSource].member;		// Grab the default function for the IST.	status = GetInterruptFunctions(	ohci->istMember.setID,									ohci->istMember.member,									&defaultRefCon,									&defaultHandlerFunction,									&defaultEnablerFunction,									&defaultDisablerFunction);	if(status != noErr) return status;		printf("Saved original interrupt functions for %X/%X: %p %p %p\n", 		ohci->istMember.setID,		ohci->istMember.member,		defaultHandlerFunction,		defaultEnablerFunction,		defaultDisablerFunction);			printf("Installing new ISR at %p\n", OHCI_ISR_Handler);		status = InstallInterruptFunctions(										ohci->istMember.setID, 										ohci->istMember.member, 										NULL,									   	OHCI_ISR_Handler, 									   	NULL, 									   	NULL);									   		defaultEnablerFunction(ohci->istMember, NULL);		return status;}